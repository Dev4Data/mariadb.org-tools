{% extends "layout.html" %}
{% import 'grid_macros.html' as grid with context %}

{% block content %}

<h1>Grid View:
 {% if branch != ANYBRANCH %}
  {% if not categories %}
<script type="text/javascript">
<!--
window.location = "grid?branch={{branch|urlencode}}&category=main"
//-->
</script>
  {% endif %}
<a href="grid?branch={{branch|urlencode}}&category=main">Main builders</a> |
<a href="grid?branch={{branch|urlencode}}&category=experimental">Unstable builders</a> |
<a href="grid?branch={{branch|urlencode}}&category=main&category=experimental">All builders</a>
 {% endif %}
</h1>

<table class="Grid" border="0" cellspacing="0">

<tr>
 <td class="title"><a href="{{ title_url }}">{{ title }}</a>
  {{ grid.category_title() }}
 </td>

 {% for s in stamps %}
  {{ grid.stamp_td(s) }}
 {% endfor %}
</tr>

{% for builder in builders %}
 <tr>
 {{ grid.builder_td(builder) }}
 {% for build in builder.builds %}
   {{ grid.build_td(build) }}
 {% endfor %}
 </tr>
{% endfor %}

</table>

{% endblock %}
